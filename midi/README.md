# MIDI (Windows Only)
很久以前做的win32 midi项目，简单实用（bushi）
## 运行
```bash
./midi # 默认使用midi.txt
./midi [file]
./midi -help/-h/-? #帮助
```
## 帮助输出
<pre>
输入 -help或者-h或者-? 来获取帮助
----------------------MIDI Player------------------
文件格式:
[主音调描述符] [速度] [主音量] [是否循环] [乐器] [每小节休息时间] [音符描述]...
[主音量描述符]: 由两个部分组成：[音阶:char][升降八度:int]
                    [音阶]: 音阶允许 C,D,E,F,G,A,B,c,d,e,f,g,a,b
                其中小写字母比大写字母升了半调（F,B除外，它们是半音）
                    [升降八度]:升降八度可选，支持所有整数,表示主音量升降八度数量，一般不填
[速度]        : 描述歌曲有多快，设为1为默认速度，0.X减速，>1加速，负数倒放
[主音量]      : 0-100,描述音量大小
[是否循环]    : 一个非负整数，如果为零则不循环，其余循环
[乐器]        : 支持两个参数 "Drum" 与 "Piano",事实上如果不是Drum其余全为Paino
[小节休息时间]: 每小节后，sleep时间(ms)，不能为0，可以为 1
[音符描述]    : 音符描述由四个部分组成: [相对音调][升降八度][时值][描述符]
                    [相对音调]:支持任意整数（建议最好0-7）,0不发音
                    [升降八度]:前一个音升降多少八度
                    [时值]:sleep时间(ms),0表示全音(1000ms),1表示半音(500ms),2表示四分音符(250ms),3表示八分音符(125ms)
                其余时间直接作为sleep时间，时值为0播放时会忽略这个音符，但是解析时会读取
                    [描述符]:可叠加,支'.','@','#','V'与'E'
                             . : 附点，延长时值一半
                             # : 注释，忽略当前这行后面全部内容，优先级第二大,但是会导致当前音符无法加入列表中
                             @ : 表示一小节结束，忽略这一行后面的内容
                             V : 后面接一个非负数，表述局部音量大小切换
                             E : 结束读取，必须要有！
</pre>
## 注意事项
由于sb windows的编码问题，main.cpp 为ANSI(GBK maybe),其余为UTF-8
